(window.webpackJsonp=window.webpackJsonp||[]).push([[34],{"lG+E":function(t,e,n){"use strict";n.r(e),n.d(e,"default",(function(){return q}));var o=n("1OyB"),r=n("vuIU"),a=n("JX7q"),i=n("Ji7U"),c=n("md7G"),u=n("foSv"),s=n("rePB"),l=n("q1tI"),d=n.n(l),p=n("vOnD"),f=n("JZAS"),h=n("kC4I"),m=p.default.main.withConfig({displayName:"MainStyled__Container",componentId:"sc-1fbu5wg-0"})(["background-color:",";font-family:Montserrat,sans-serif;font-size:1rem;font-style:normal;font-weight:normal;line-height:1.2;margin:0 auto;max-width:870px;padding:2.8rem 3.2rem;width:100%;@media (max-width:","px){padding-left:1.6rem;padding-right:1.6rem;}"],(function(t){var e=t.bgColor;return e?"#".concat(e):f.contentBackgroundColor}),h.a.L-1),y=d.a.createElement;function v(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,o=Object(u.a)(t);if(e){var r=Object(u.a)(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return Object(c.a)(this,n)}}var g=function(t){Object(i.a)(n,t);var e=v(n);function n(){return Object(o.a)(this,n),e.apply(this,arguments)}return Object(r.a)(n,[{key:"render",value:function(){var t=this.props,e=t.children,n=t.bgColor;return y(m,{bgColor:n},e)}}]),n}(d.a.Component),b=n("xryB"),O=n("q7KM"),j=n("z9rO"),w=p.default.div.withConfig({displayName:"Stepstyled__Text",componentId:"sc-78tcwj-0"})(["flex-grow:1;font-size:11px;"]),C=d.a.createElement,k=function(t){var e=t.step,n=void 0===e?1:e;return C(d.a.Fragment,null,C(w,null,"\u0428\u0430\u0433 ",n," \u0438\u0437 2"))},x=d.a.createElement,S=function(t){var e=t.step,n=t.title,o=t.text,r=t.children,a=t.wlColors,i=t.isModalOpen;return x(j.a,{className:"ga-WhiteLabel"},x(j.c,{textColor:a.textColor,isModalOpen:Boolean(i),hasStep:Boolean(e)},e&&x(k,{step:e})),n&&x(j.e,{h1Color:a.h1Color},n),o&&x(j.b,{h2Color:a.h2Color},o),r)},T=n("/MKj"),P=n("P1FR"),R=n("oxSn"),I=n("YZVo"),L=n("WXyY"),E=n("rs69"),H=n("pL6K"),D=n("8hCV"),M=n("cBaE"),A=n("u4c5"),B=d.a.createElement;function N(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,o=Object(u.a)(t);if(e){var r=Object(u.a)(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return Object(c.a)(this,n)}}var F=function(t){Object(i.a)(n,t);var e=N(n);function n(){var t;Object(o.a)(this,n);for(var r=arguments.length,i=new Array(r),c=0;c<r;c++)i[c]=arguments[c];return t=e.call.apply(e,[this].concat(i)),Object(s.a)(Object(a.a)(t),"layoutTitle",void 0),Object(s.a)(Object(a.a)(t),"layoutText",void 0),Object(s.a)(Object(a.a)(t),"state",{otpSessionId:""}),Object(s.a)(Object(a.a)(t),"setOTPSessionId",(function(e){return t.setState({otpSessionId:e})})),Object(s.a)(Object(a.a)(t),"getStep",(function(e){var n=t.state.otpSessionId,o=t.props,r=o.regPhone,a=o.registrationInfo,i=o.changeLayout,c=o.type,u=void 0===c?"cash":c,s=o.amount,l=o.period,d=o.maxProducts,p=o.sortType,f=o.sortDirection,h=o.layout,m=h.activeProduct,y=h.replenishmentActive;switch(e){case"personal-form":return B(O.PersonalForm,{changeLayout:i,creditType:u,onMount:function(){return i({userStep:2,title:I.c[u],text:"\u041f\u043e\u043b\u0443\u0447\u0438\u0442\u0435 +40% \u043a \u0432\u0435\u0440\u043e\u044f\u0442\u043d\u043e\u0441\u0442\u0438 \u043e\u0434\u043e\u0431\u0440\u0435\u043d\u0438\u044f \u043a\u0440\u0435\u0434\u0438\u0442\u0430, \u0437\u0430\u043f\u043e\u043b\u043d\u0438\u0432 2-\u0439 \u0448\u0430\u0433"})},actionOnSubmit:function(t){D.a.push({event:"TRACK_VIRTUAL",parameters:t}),i({step:"product-list",session:Object(L.a)("SESSION")})}});case"product-list":return B(A.WLColorsConsumer,null,(function(t){return B(R.a,{isProductList:!0,type:u,amount:s,period:l,maxProducts:d,sortType:p,activeProduct:m,replenishmentActive:y,changeLayout:i,sortDirection:f,wlColors:t})}));case"init":return null;default:return B(E.a,{isWhiteLabel:!0,creditType:u,changeLayout:i,otpSessionId:n,setOTPSessionId:t.setOTPSessionId,regPhone:r,onMount:function(){i({step:"reg",title:I.c[u],text:"\u041f\u043e\u043b\u0443\u0447\u0438\u0442\u0435 +55% \u043a \u0432\u0435\u0440\u043e\u044f\u0442\u043d\u043e\u0441\u0442\u0438 \u043e\u0434\u043e\u0431\u0440\u0435\u043d\u0438\u044f \u043a\u0440\u0435\u0434\u0438\u0442\u0430, \u0437\u0430\u043f\u043e\u043b\u043d\u0438\u0432 1-\u0439 \u0448\u0430\u0433",userStep:1})},onAuth:function(){return i({userStep:void 0,text:""})},registrationInfo:a})}})),t}return Object(r.a)(n,[{key:"componentDidMount",value:function(){var t=this.props,e=t.changeLayout,n=t.type,o=void 0===n?"cash":n,r=t.layout.step,a=r;this.isAuth()||(a="reg"),e("init"===r?{step:"reg"}:{step:a}),e({title:I.c[o]})}},{key:"componentDidUpdate",value:function(t){var e=this.props.layout,n=e.activeProduct,o=e.title,r=e.text,a=e.replenishmentActive;(n||a)&&o&&r&&(this.layoutTitle=t.layout.title,this.layoutText=t.layout.text,this.props.changeLayout({title:void 0,text:void 0})),n||a||o||r||this.props.changeLayout({title:this.layoutTitle,text:this.layoutText})}},{key:"isAuth",value:function(){var t=this.props.layout.session;return M.B&&Object(L.a)("SESSION")===t}},{key:"render",value:function(){var t=this,e=this.props.layout,n=e.step,o=void 0===n?"auth":n,r=e.title,a=e.userStep,i=e.text;return B(A.WLColorsConsumer,null,(function(e){return B(S,{isModalOpen:t.props.isModalOpen,step:a,title:r,text:i,wlColors:e},t.getStep(o))}))}}]),n}(l.Component),W=Object(T.b)((function(t){return{layout:Object(H.d)(t),regPhone:Object(P.b)(t),registrationInfo:t.registrationReducer,isModalOpen:t.widgetsReducer.whiteLabel.isModalOpen}}),{changeLayout:H.c})(F),_=d.a.createElement;function K(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,o=Object(u.a)(t);if(e){var r=Object(u.a)(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return Object(c.a)(this,n)}}var q=function(t){Object(i.a)(n,t);var e=K(n);function n(){var t;Object(o.a)(this,n);for(var r=arguments.length,i=new Array(r),c=0;c<r;c++)i[c]=arguments[c];return t=e.call.apply(e,[this].concat(i)),Object(s.a)(Object(a.a)(t),"state",{amount:0,period:0}),Object(s.a)(Object(a.a)(t),"actionHandler",void 0),Object(s.a)(Object(a.a)(t),"timeoutId",void 0),Object(s.a)(Object(a.a)(t),"widgetHeight",0),Object(s.a)(Object(a.a)(t),"widgetRef",d.a.createRef()),Object(s.a)(Object(a.a)(t),"checkContentHeight",(function(){var e=t.widgetRef.current&&t.widgetRef.current.offsetHeight||0;e!==t.widgetHeight&&t.actionHandler&&(t.actionHandler.send("changeWidgetHeight",{value:e}),t.widgetHeight=e),t.timeoutId=window.setTimeout(t.checkContentHeight,100)})),Object(s.a)(Object(a.a)(t),"includeAnalitycs",(function(){try{Function("\n        (function(m,e,t,r,i,k,a){m[i]=m[i]||function(){(m[i].a=m[i].a||[]).push(arguments)};\n        m[i].l=1*new Date();k=e.createElement(t),a=e.getElementsByTagName(t)[0],k.async=1,k.src=r,a.parentNode.insertBefore(k,a)})\n        (window, document, \"script\", \"https://mc.yandex.ru/metrika/tag.js\", \"ym\");\n        ym(55448374, \"init\", {\n            clickmap:true,\n            trackLinks:true,\n            accurateTrackBounce:true\n        });\n        (function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':\n        new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],\n        j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=\n        'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);\n        })(window,document,'script','dataLayer','GTM-M55DWDT');\n    ")()}catch(t){return}})),t}return Object(r.a)(n,[{key:"componentDidMount",value:function(){var t=this,e=this.token;if(function(){var t=document.createElement("iframe");t.id="cookiesHackFrame",t.name="cookiesHackFrame",t.src="/test",t.style.display="none";var e=document.createElement("form");e.id="cookiesHackForm",e.action="/",e.method="POST",e.target="cookiesHackFrame",document.body.append(t,e),e.submit(),e.remove(),t.remove()}(),null!==e){var n=new b.b(e);n.on("changeAmount",(function(e){var n=e.value;t.setState({amount:n})})),n.on("changePeriod",(function(e){var n=e.value;t.setState({period:n})})),this.actionHandler=n,this.checkContentHeight(),D.a.collectCookieParams()}var o=setInterval((function(){var t;window&&window.document&&(t=Object(L.a)("XSRF-TOKEN")),t&&(!function(t){var e=document.createElement("meta");e.content="X-CSRF-TOKEN",e.name="_csrf_header";var n=document.createElement("meta");n.content=t,n.name="_csrf";var o=document.querySelector("head");o&&o.append(e,n)}(t),clearInterval(o))}),1e3);this.includeAnalitycs()}},{key:"componentWillUnmount",value:function(){this.actionHandler&&(this.actionHandler.destruct(),delete this.actionHandler),this.timeoutId&&(clearTimeout(this.timeoutId),delete this.timeoutId)}},{key:"render",value:function(){var t=this.props.options,e=t.maxProducts,n=t.sortType,o=t.sortDirection,r=t.type,a=t.bgColor,i={bgColor:a,buttonColor:t.buttonColor,h1Color:t.h1Color,h2Color:t.h2Color,textColor:t.textColor};return _("div",{ref:this.widgetRef},_(p.ThemeProvider,{theme:{mode:"yellow"}},_(A.WLColorsProvider,{value:i},_(b.a,null,_(g,{bgColor:a},_(W,{amount:this.amount,maxProducts:e,period:this.period,sortType:n,sortDirection:o,type:r,colorParams:i}))))))}},{key:"amount",get:function(){var t=this.props.options;return Math.max(this.state.amount||t.amount||0,1e4)}},{key:"period",get:function(){var t=this.props.options;return Math.max(this.state.period||t.period||0,1)}},{key:"token",get:function(){return this.props.options.token||null}}],[{key:"getInitialProps",value:function(t){return{options:t.query}}}]),n}(d.a.Component)}}]);